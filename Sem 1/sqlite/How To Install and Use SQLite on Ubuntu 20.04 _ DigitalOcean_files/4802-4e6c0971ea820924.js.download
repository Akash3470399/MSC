"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4802],{25610:function(e,n,t){t.d(n,{Z:function(){return pe}});var r=t(27812),o=t(50029),i=t(16835),a=t(87794),l=t.n(a),s=t(67294),d=t(5152),c=t.n(d),u=t(41664),p=t.n(u),m=t(11163),f=t(88134),h=t(45697),g=t.n(h);function x(){return x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},x.apply(this,arguments)}function y(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=(0,s.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,a=y(e,["color","size"]);return s.createElement("svg",x({ref:n,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),s.createElement("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),s.createElement("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"}))}));b.propTypes={color:g().string,size:g().oneOfType([g().string,g().number])},b.displayName="Tag";var v=b,w=t(23939),j=t(33606),k=t(17053),C=t(98261),Z=t(84270),P=t(6944),_=t(21474),S=t(76427),O=t(88723),N=t(52507),I=t(57054),L=t(81042),T=t(9751),E=t(82802),z=t(47811),M=t(55707),A=t(37797),D=A.ZP.div.withConfig({displayName:"UpvoteSyles__StyledUpvoteContainer",componentId:"sc-1it9y7o-0"})(["align-items:center;cursor:pointer;display:flex;flex-direction:column;"]),U=A.ZP.div.withConfig({displayName:"UpvoteSyles__StyledUpvoteCount",componentId:"sc-1it9y7o-1"})(["color:",";font-size:14px;line-height:1;margin-top:4px;"],f.ZP.gray5),F=t(85893),B=function(e){var n=e.upvotableId,t=e.upvotableType,r=(0,I.Z)(),i=(0,M.N)().setNeedLogIn,a=(0,s.useState)(null),d=a[0],c=a[1],u=(0,s.useCallback)((0,o.Z)(l().mark((function e(){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.token){e.next=3;break}return i(!0),e.abrupt("return");case 3:if(!d.upvoted){e.next=9;break}return e.next=6,(0,j.j_)(r.token,n,t);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,(0,j.VE)(r.token,n,t);case 11:e.t0=e.sent;case 12:o=e.t0,c(o);case 14:case"end":return e.stop()}}),e)}))),[r,n,t,d,i]);return(0,s.useEffect)((function(){r.token?(0,j.lA)(r.token,n,t).then((function(e){return c(e)})):(0,k.lA)(n,t).then((function(e){return c(e)}))}),[r,n,t]),(0,F.jsxs)(D,{children:[null!==d&&void 0!==d&&d.upvoted?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.Z,{size:20,color:f.ZP.red2}),(0,F.jsx)(z.Z,{size:24,color:f.ZP.red2,fill:f.ZP.red2,onClick:u})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.Z,{size:20,color:f.ZP.gray5}),(0,F.jsx)(z.Z,{size:24,color:f.ZP.gray5,onClick:u})]}),(0,F.jsx)(U,{children:null!==d&&void 0!==d&&d.count?d.count.toLocaleString():""})]})},R="/_next/static/media/do-logo.d3eb8550.svg",H="/_next/static/media/site-moderator.546b20e1.svg",q=A.ZP.div.withConfig({displayName:"UserBadgesStyles__StyledBadge",componentId:"sc-km2ied-0"})(["position:relative;div{background:",";border-radius:2px;color:",";display:none;font-size:12px;left:50%;padding:2px 4px;position:absolute;top:-100%;transform:translateX(-50%);width:max-content;&::after{border-color:#000 transparent transparent;border-style:solid;border-width:5px 5px 0;content:'';height:0;left:50%;position:absolute;top:100%;transform:translateX(-50%);width:0;}}img{height:18px;margin:0 8px;position:relative;top:4px;width:18px;}&:hover{div{display:block;}}"],f.ZP.black,f.ZP.white),W=function(e){var n=e.badges;return(null===n||void 0===n?void 0:n.length)>0&&(0,F.jsxs)(F.Fragment,{children:[n.includes("moderator")&&!n.includes("employee")&&(0,F.jsxs)(q,{children:[(0,F.jsx)("div",{children:"Site Moderator"}),(0,F.jsx)("img",{alt:"Site Moderator badge",src:H})]}),n.includes("employee")&&(0,F.jsxs)(q,{children:[(0,F.jsx)("div",{children:"DigitalOcean Employee"}),(0,F.jsx)("img",{alt:"DigitalOcean Employee badge",src:R})]})]})},X=t(97020),V=t(17534),Y=t(87288),$=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentContainer",componentId:"sc-gn53o-0"})(["border:1px solid ",";border-radius:24px;margin:0 0 32px;"," "," "," "," "," "," "," overflow-x:auto;padding:24px 33.5px;","{padding:21px;}"],f.ZP.gray7,(function(e){return 0===e.voteable&&"\n    display: grid;\n    grid-template-columns: 24px minmax(0, 1fr);\n    grid-template-rows: min-content min-content;\n    gap: 0 24px;\n  "}),(function(e){return e.align&&"left"===e.align?"padding-left: 0px;":"padding-left: 15px;"}),(function(e){return e.accepted&&"\n      background-color: ".concat((0,f.E9)(f.ZP.blue5,.35),";\n    ")}),(function(e){return e.pinned&&"\n      background-color: ".concat((0,f.E9)(f.ZP.green5,.5),";\n    ")}),(function(e){return"trashed"===e.state&&"\n    background-color: ".concat((0,f.E9)(f.ZP.red2,.2),";\n    border-color: ").concat((0,f.E9)(f.ZP.red2,.6),";\n  ")}),(function(e){return"spam"===e.state&&"\n    background-color: ".concat((0,f.E9)(f.ZP.orange2,.2),";\n    border-color: ").concat((0,f.E9)(f.ZP.orange2,.6),";\n  ")}),(function(e){return"under_review"===e.state&&"\n    background-color: ".concat((0,f.E9)(f.ZP.blue2,.2),";\n    border-color: ").concat((0,f.E9)(f.ZP.blue2,.6),";\n  ")}),(0,V.X)(V.A.tablet)),G=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentUpvoteContainer",componentId:"sc-gn53o-1"})(["","{grid-row:span 2;}"],(0,V.X)(V.A.tablet,"min")),K=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMeta",componentId:"sc-gn53o-2"})(["display:flex;flex-direction:column;flex-grow:1;"]),J=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMetaContainer",componentId:"sc-gn53o-3"})(["align-items:center;display:flex;margin-bottom:16px;position:relative;","{align-items:flex-start;flex-direction:column;}"],(0,V.X)(V.A.tablet)),Q=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentMetaNameAndDate",componentId:"sc-gn53o-4"})(["align-items:center;color:",";display:flex;flex-wrap:wrap;font-size:16px;line-height:1.5;margin-right:auto;","{align-items:flex-start;flex-direction:column;span{display:none;}}span{margin:0 5px;}"],f.ZP.gray4,(0,V.X)(V.A.tablet)),ee=A.ZP.a.withConfig({displayName:"CommentStyles__StyledCommentMetaName",componentId:"sc-gn53o-5"})(["color:",";cursor:pointer;display:block;font-weight:500;"],f.ZP.blue2),ne=A.ZP.a.withConfig({displayName:"CommentStyles__StyledCommentMetaDate",componentId:"sc-gn53o-6"})(["color:inherit;text-decoration:none;&:hover{text-decoration:underline;}"]),te=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentBody",componentId:"sc-gn53o-7"})(["color:",";font-size:16px;","{grid-column:span 2;}"," ",""],f.ZP.gray4,(0,V.X)(V.A.tablet),(function(e){return!e.expanded&&"\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      margin-bottom: 0;\n    "}),(function(e){return!e.expanded&&e.isNested&&"display: none;"})),re=(A.ZP.div.withConfig({displayName:"CommentStyles__StyledUserReportCommentContainer",componentId:"sc-gn53o-8"})(["display:flex;flex-direction:column;margin-bottom:16px;&:last-of-type{margin-bottom:0;}a{margin-left:0;text-decoration:none;:hover{border-bottom:none;}}"]),A.ZP.ul.withConfig({displayName:"CommentStyles__StyledCommentActions",componentId:"sc-gn53o-9"})(["align-items:center;flex-wrap:wrap;list-style-type:none;margin:24px 0 0;"," padding:0;&:empty{display:none;}li{margin-right:16px;&:last-child{margin-right:0;}}"],(function(e){return e.expanded?"display: flex;":"display: none;"}))),oe=A.ZP.button.withConfig({displayName:"CommentStyles__StyledCommentAction",componentId:"sc-gn53o-10"})(["background:none;border:none;color:",";cursor:pointer;display:inline-block;font-size:13px;font-weight:400;line-height:",";margin:0;padding:0;text-decoration:underline;transition:color 0.2s ease-in-out;vertical-align:top;&:last-child{margin-right:0;}&:not(:disabled):hover{color:",";}&:disabled{color:",";cursor:not-allowed;}b{font-weight:500;}"],f.ZP.blue2,24/13,f.ZP.blueHover,f.ZP.gray4),ie=A.ZP.div.withConfig({displayName:"CommentStyles__StyledPinnedAnswerLabel",componentId:"sc-gn53o-11"})(["align-items:center;color:",";display:flex;margin-right:24px;","{margin-top:14px;}span{font-family:",";font-size:13px;font-weight:800;line-height:",";margin-left:8px;text-transform:uppercase;}"],f.ZP.blue2,(0,V.X)(V.A.tablet),(0,Y.Z)("code"),24/13),ae=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentChildren",componentId:"sc-gn53o-12"})(["border-left:1.5px solid ",";margin-top:16px;&:empty{display:none;}","{border:0;margin-bottom:12px;padding:12px 0 0 24px;}&:last-child{","{margin-bottom:0;}}"],f.ZP.gray6,$,$),le=A.ZP.div.withConfig({displayName:"CommentStyles__StyledCommentChildrenForm",componentId:"sc-gn53o-13"})(["padding:24px 0;"]),se=A.ZP.div.withConfig({displayName:"CommentStyles__StyledError",componentId:"sc-gn53o-14"})(["background:#faa;border-radius:3px;margin:0 0 40px;padding:20px;"]),de=A.ZP.button.withConfig({displayName:"CommentStyles__StyledExpandButton",componentId:"sc-gn53o-15"})(["align-items:center;background:none;border:0;border-radius:0;color:",";cursor:pointer;display:flex;font-size:13px;line-height:",";margin:0;"," overflow:hidden;padding:0;text-decoration:underline;span{display:block;height:24px;"," position:relative;width:24px;}&:hover{color:",";span{color:",";}}svg{left:50%;"," position:absolute;top:50%;transition:transform 300ms ease-in-out;width:12px;}"],f.ZP.blue2,24/13,(function(e){return!e.actionItem&&"\n    ".concat((0,V.X)(V.A.tablet)," {\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n  ")}),(function(e){return e.expanded?"\n      color: ".concat(f.ZP.gray2,";\n    "):"\n      color: ".concat(f.ZP.gray5,";\n    ")}),f.ZP.blueHover,f.ZP.gray2,(function(e){return e.expanded?"\n      transform: translate(-50%, -50%);\n    ":"transform: translate(-50%, -50%) rotate(180deg);"})),ce=c()((function(){return Promise.resolve().then(t.bind(t,65861))}),{loadableGenerated:{webpack:function(){return[65861]}}}),ue=(0,s.forwardRef)((function(e,n){var t,a,d=e.record,c=e.topLevelType,u=e.topLevel,h=e.handleUpdatedTopLevel,g=e.parent,x=e.align,y=e.accepted,b=e.expanded,E=e.pinned,z=e.loadNested,M=e.replyable,A=e.handleUpdatedComment,D=e.urlFormatter,U=e.upvotable,R=e.users,H=(0,I.Z)(),q=(0,m.useRouter)(),V=(0,L.ZP)(),Y=(0,i.Z)(V,2),pe=Y[0],me=Y[1],fe=(0,s.useState)(),he=fe[0],ge=fe[1],xe=(0,s.useState)(!1),ye=xe[0],be=xe[1],ve=(0,s.useState)(!1),we=ve[0],je=ve[1],ke=(0,s.useState)(b),Ce=ke[0],Ze=ke[1],Pe=(0,s.useState)(!1),_e=Pe[0],Se=Pe[1],Oe=H.permissions.has(S.P.flags.MANAGE_COMMENTS)||H.permissions.has(S.P.flags.ADMINISTRATOR),Ne=(null===(t=H.user)||void 0===t?void 0:t.id)===d.user_id||Oe,Ie=(null===(a=H.user)||void 0===a?void 0:a.id)===(null===u||void 0===u?void 0:u.user_id),Le=new Date-new Date(d.created_at)<36e5,Te=(0,s.useState)(null),Ee=Te[0],ze=Te[1],Me=(0,s.useState)([]),Ae=Me[0],De=Me[1],Ue=(0,s.useState)(d),Fe=Ue[0],Be=Ue[1],Re=(0,s.useState)(z?0:"last"),He=Re[0],qe=Re[1],We=(0,s.useState)(!1),Xe=We[0],Ve=We[1],Ye=(0,s.useState)(!1),$e=Ye[0],Ge=Ye[1],Ke=(0,s.useState)(!1),Je=Ke[0],Qe=Ke[1],en=(0,N.z)().addNotification,nn=(0,s.useCallback)((function(e){console.error(e),en((0,Z.Z)(e.message),"error"),ze(e.message)}),[en]),tn=(0,s.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!we){e.next=2;break}return e.abrupt("return");case 2:je(!0),(0,j.uA)(H.token,d.id,n).then((function(e){var t=null===n.comments_locked_at?"Comment Thread Unlock":"Comment Thread Lock";e&&A(e),en("comments_locked_at"in n?t:"Comment was marked as ".concat(n.state),"success")})).catch(nn).finally((function(){return je(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[we,H.token,d.id,A,en,nn]),rn=function(e){De((function(n){return n.map((function(n){return n.id===e.id?e:n}))}))},on=(0,s.useCallback)(function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!we){e.next=2;break}return e.abrupt("return");case 2:je(!0),(0,j.ZY)(H.token,u.slug,n).then((function(e){h(e);var t="accepted_id"in n&&"Answer was ".concat(null!==n.accepted_id?"marked":"unmarked"," as Accepted")||"pinned_id"in n&&"Answer was  ".concat(null!==n.pinned_id?"marked":"unmarked","  as Pinned");en(t,"success")})).catch(nn).finally((function(){return je(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[we,H.token,u.slug,h,en,nn]);return(0,s.useEffect)((function(){"last"!==He&&(0,k.xP)("comment",d.id,{type:"comment",page:He,per_page:P.oA.commentsPerPage}).then((function(e){De((function(n){return n.concat(e)})),e.length<P.oA.commentsPerPage?qe("last"):qe(He+1)}))}),[d,He]),(0,s.useEffect)((function(){Ne&&"trashed"===d.state&&(0,j._g)(H.token,d.id).then((function(e){Be(e)})).catch((function(e){return console.error(e)}))}),[H,Ne,d]),(0,s.useEffect)((function(){var e;q.isReady&&ge(parseInt(null===(e=q.query)||void 0===e?void 0:e.comment,10))}),[q]),(0,s.useEffect)((function(){me.current&&!ye&&(pe(),be(!0))}),[me,pe,ye]),(0,F.jsxs)($,{align:x,accepted:y,pinned:E,state:d.state,voteable:U?0:1,isExpanded:Ce,ref:function(e){n&&(n.current=e),he===d.id&&(me.current=e)},children:[U&&(0,F.jsx)(G,{children:(0,F.jsx)(B,{upvotableId:d.id,upvotableType:"comment"})}),(0,F.jsx)(K,{children:(0,F.jsxs)(J,{children:[(0,F.jsxs)(Q,{children:[(0,F.jsx)(p(),{href:(0,O.F7)("user",d.user.slug),passHref:!0,children:(0,F.jsx)(ee,{children:(0,_.Z)(d.user)})}),d.user.badges&&(0,F.jsx)(W,{badges:d.user.badges}),(0,F.jsx)("span",{children:" \u2022 "}),(0,F.jsx)(p(),{href:D(d.id),passHref:!0,children:(0,F.jsx)(ne,{children:(0,C.Z)(d.created_at)})})]}),(E||y)&&(0,F.jsxs)("div",{children:[E&&(0,F.jsxs)(ie,{children:[(0,F.jsx)(v,{height:14,width:14,color:f.ZP.blue2}),(0,F.jsx)("span",{children:"Pinned Answer"})]}),y&&(0,F.jsxs)(ie,{children:[(0,F.jsx)(w.Z,{height:14,width:14,color:f.ZP.blue2}),(0,F.jsx)("span",{children:"Accepted Answer"})]})]}),(0,F.jsxs)(de,{isNested:"nested"===x,type:"button",expanded:Ce,onClick:function(){return Ze(!Ce)},children:["nested"===x&&(Ce?"Hide reply":"Show reply"),(0,F.jsx)("span",{children:(0,F.jsx)("svg",{fill:"none",height:"9",viewBox:"0 0 15 9",width:"15",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("path",{d:"m1.5 8.06543 6-6 6 6",stroke:"currentColor",strokeWidth:"2"})})})]})]})}),(0,F.jsxs)(te,{expanded:Ce,children:[$e?(0,F.jsx)(X.Z,{topLevelType:c,topLevel:u,parentType:d.parent_type,parent:g||u,showHeader:!1,record:Fe,type:d.type,buttonText:"Update ".concat(d.type),onSave:function(e){Ge((function(e){return!e})),Be(e)},usersThread:[].concat((0,r.Z)(R),[d.user.slug])}):(0,F.jsx)(te,{expanded:Ce,isNested:"nested"===x,children:(0,F.jsx)(ce,{content:Fe.content})}),(0,F.jsxs)(re,{expanded:Ce,children:[Ae.length>0&&(0,F.jsx)("li",{children:(0,F.jsxs)(de,{type:"button",actionItem:!0,expanded:_e,onClick:function(){return Se(!_e)},children:[_e?"Hide replies":"Show replies",(0,F.jsx)("span",{children:(0,F.jsx)("svg",{fill:"none",height:"9",viewBox:"0 0 15 9",width:"15",xmlns:"http://www.w3.org/2000/svg",children:(0,F.jsx)("path",{d:"m1.5 8.06543 6-6 6 6",stroke:"currentColor",strokeWidth:"2"})})})]})}),M&&c&&u&&null==d.comments_locked_at&&(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return Ve((function(e){return!e}))},children:"Reply"})}),H.user&&(0,F.jsx)("li",{children:(0,F.jsx)(T.Z,{record:d,reportedType:"Comment",auth:H,text:"Report",size:"small",isReportModalOpen:Je,setIsReportModalOpen:Qe})}),(Ne&&Le&&"published"===d.state||Oe)&&(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return Ge((function(e){return!e}))},children:"Edit"})}),(Ne&&Le||Oe)&&"trashed"!==d.state&&(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return tn({state:"trashed"})},disabled:we,children:"Delete"})}),"published"!==d.state&&Oe&&(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return tn({state:"published"})},disabled:we,children:"Publish"})}),Oe&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("li",{children:(0,F.jsxs)(oe,{onClick:function(){return tn({comments_locked_at:null===d.comments_locked_at?new Date:null})},disabled:we,children:[null===d.comments_locked_at?"Lock":"Unlock "," ","All Comments"]})}),(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return tn({state:"spam"})},disabled:we,children:"Spam"})}),"question"===d.top_level_type&&"answer"===d.type&&!y&&null!==y&&(0,F.jsx)("li",{children:(0,F.jsx)(oe,{onClick:function(){return on({pinned_id:E?null:d.id})},disabled:we,children:E?"Unpin":"Pin"})})]}),"question"===d.top_level_type&&"answer"===d.type&&(Oe||Ie)&&!E&&null!==E&&(0,F.jsx)("li",{children:(0,F.jsxs)(oe,{onClick:function(){return on({accepted_id:y?null:d.id})},disabled:we,children:[y?"Unmark":"Mark"," ","as accepted"]})})]}),Ee&&(0,F.jsxs)(se,{children:[(0,F.jsx)("b",{children:"An error occurred:"})," ",Ee]}),M&&Xe&&c&&u&&(0,F.jsx)(le,{children:(0,F.jsx)(X.Z,{topLevelType:c,topLevel:u,parentType:"comment",parent:d,type:"comment",onSave:function(e){De((function(n){return n.concat(e)})),Ve(!1)},showHeader:!1,usersThread:[].concat((0,r.Z)(R),[d.user.slug])})}),_e&&(0,F.jsx)(ae,{children:Ae.map((function(e){return(0,F.jsx)(ue,{record:e,topLevelType:c,topLevel:u,handleUpdatedTopLevel:h,parent:d,align:"nested",expanded:!0,loadNested:z,replyable:M,handleUpdatedComment:rn,users:[].concat((0,r.Z)(R),[d.user.slug])},e.id)}))})]})]},d.id)})),pe=ue;ue.displayName="Comment",ue.defaultProps={topLevel:null,handleUpdatedTopLevel:function(){},parent:null,align:null,accepted:!1,pinned:!1,loadNested:!1,replyable:!1,upvotable:!1,expanded:!0,urlFormatter:function(){return"#"},users:[]}},68605:function(e,n,t){t.d(n,{B:function(){return o}});var r=t(88134),o=t(37797).ZP.button.withConfig({displayName:"LoadMoreButtonStyles__StyledLoadMoreButton",componentId:"sc-1my1ou7-0"})(["background:",";border:1px solid ",";border-radius:10px;box-shadow:none;color:",";cursor:pointer;font-size:16px;line-height:24px;margin:1rem auto;padding:8px 20px;text-align:center;&:hover{background:",";box-shadow:0 10px 20px ",";color:",";transition:box-shadow 0.25s linear,-webkit-box-shadow 0.25s linear;}"],r.ZP.white,r.ZP.grayBorder,r.ZP.gray3,r.ZP.blueHover,(0,r.E9)(r.ZP.blueDark,.1),r.ZP.white)},21346:function(e,n,t){var r=t(37797),o=t(68605),i=t(85893),a=function(e){var n=e.visible,t=e.onClick,r=e.message,o=e.styles;return n&&(0,i.jsx)(l,{type:"button",onClick:t,$_css:o,children:r})};n.Z=a,a.defaultProps={message:"Load More",styles:null};var l=(0,r.ZP)(o.B).withConfig({displayName:"LoadMoreButton___StyledStyledLoadMoreButton",componentId:"sc-1xkxrc2-0"})(["",""],(function(e){return e.$_css}))},27767:function(e,n,t){t.d(n,{Z:function(){return j}});var r=t(59499),o=t(27812),i=t(16835),a=t(4730),l=t(67294),s=t(77493),d=t(96391),c=t(66557),u=t(88134),p=t(37797),m=t(62080),f=p.ZP.div.withConfig({displayName:"MarkdownWithMentionsStyles__StyledCommentsUserWrapper",componentId:"sc-11zqajg-0"})(["background-color:",";border-radius:6px;box-shadow:"," 0 1px 4px;margin-top:24px;min-width:150px;position:absolute;z-index:1;"],u.ZP.white,(0,u.E9)(u.ZP.black,.4)),h=p.ZP.li.withConfig({displayName:"MarkdownWithMentionsStyles__StyledLisItem",componentId:"sc-11zqajg-1"})(["background-color:",";border-radius:6px;color:",";transition:background-color 0.3s ease,color 0.3s ease;&:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;}&:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;}&:hover{background-color:",";color:",";}"],(function(e){return e.selected?u.ZP.blue2:"none"}),(function(e){return e.selected?u.ZP.gray10:u.ZP.gray4}),u.ZP.blue5,u.ZP.gray4),g=(0,p.ZP)(m.Z).withConfig({displayName:"MarkdownWithMentionsStyles__StyledUserMentionButton",componentId:"sc-11zqajg-2"})(["border:none;color:inherit;display:block;font-size:inherit;font-weight:inherit;padding:4px 8px;text-align:left;width:100%;&:not(:disabled):hover{background-color:transparent;}"]),x=t(85893),y=["onKeyDown","onChangeImmediate","mentions"];function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.onKeyDown,t=e.onChangeImmediate,r=e.mentions,u=(0,a.Z)(e,y),p=(0,l.useRef)(null),m=(0,l.useState)(null),b=m[0],w=m[1],j=(0,l.useState)(""),k=j[0],C=j[1],Z=(0,l.useState)(0),P=Z[0],_=Z[1],S=(0,l.useState)([]),O=S[0],N=S[1],I=(0,l.useCallback)((function(e){var n=(p.current||{}).editor;if(null!==n&&void 0!==n&&n.selection&&s.e6.isCollapsed(n.selection)){var r=s.e6.edges(n.selection),o=(0,i.Z)(r,1)[0],a=s.ML.range(n,s.ML.leaf(n,o)[1],o),l=s.ML.string(n,a).match(/(?:^|\s)@(\w*)$/),d=s.ML.range(n,o,s.ML.after(n,o)),c=s.ML.string(n,d).match(/^(\s|$)/);l&&c?(w(s.ML.range(n,{path:o.path,offset:o.offset-l[1].length-1},o)),C(l[1])):(w(null),C(""))}"function"===typeof t&&t(e)}),[t]),L=(0,l.useMemo)((function(){var e;if(null===(e=p.current)||void 0===e||!e.editor||!b)return null;var n=d.F3.toDOMRange(p.current.editor,b).getBoundingClientRect(),t=p.current.editableWrapper.getBoundingClientRect();return{top:n.top-t.top,left:n.left-t.left}}),[b]);(0,l.useEffect)((function(){var e=(0,o.Z)(new Set(r)).sort((function(e,n){return e.localeCompare(n)})),n=k?e.filter((function(e){return e.toLowerCase().startsWith(k.toLowerCase())})):e;N(n),_(0)}),[k,r]);var T=(0,l.useCallback)((function(e){var n;null!==(n=p.current)&&void 0!==n&&n.editor&&b&&(s.YR.select(p.current.editor,b),s.ML.insertText(p.current.editor,"@".concat(e," ")),d.F3.focus(p.current.editor))}),[b]),E=(0,l.useCallback)((function(e){if(L&&O.length){if("ArrowUp"===e.key)return e.preventDefault(),void _(0===P?O.length-1:P-1);if("ArrowDown"===e.key)return e.preventDefault(),void _(P===O.length-1?0:P+1);if("Enter"===e.key)return e.preventDefault(),void T(O[P]);if("Escape"===e.key)return e.preventDefault(),w(null),void C("")}"function"===typeof n&&n(e)}),[L,O,P,T,n]);return(0,x.jsx)(c.Z,v(v({},u),{},{ref:p,onKeyDown:E,onChangeImmediate:I,children:L&&!!O.length&&(0,x.jsx)(f,{style:{top:L.top,left:L.left},children:(0,x.jsx)("ul",{children:O.map((function(e,n){return(0,x.jsx)(h,{selected:n===P,children:(0,x.jsx)(g,{onClick:function(){return T(e)},children:e})},e)}))})})}))},j=w;w.defaultProps=v(v({},c.Z.defaultProps),{},{mentions:[]})},97020:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(50029),o=t(59499),i=t(37797),a=t(87794),l=t.n(a),s=t(67294),d=t(33606),c=t(89136),u=t(57054),p=t(62080),m=t(34531),f=t(27767),h=t(23478),g=t(92985),x=t(88134),y=t(87288),b=i.ZP.form.withConfig({displayName:"CommentFormTemplateStyles__StyledForm",componentId:"sc-1dqa7xz-0"})([""]),v=i.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledFormHeader",componentId:"sc-1dqa7xz-1"})(["color:",";font-size:24px;font-weight:600;line-height:32px;margin-bottom:16px;"],x.ZP.gray2),w=i.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledFormError",componentId:"sc-1dqa7xz-2"})(["background:#faa;border-radius:3px;margin:0 0 40px;padding:20px;"]),j=i.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledButtonBar",componentId:"sc-1dqa7xz-3"})(["margin-top:5px;padding:0;"]),k=(0,i.iv)(["background-color:",";border:0;border-radius:10px;color:",";cursor:pointer;font-size:16px;font-weight:600;line-height:1.5;min-width:192px;padding:8px 32px;text-align:center;&:hover{background-color:",";}"],x.ZP.blue2,x.ZP.white,x.ZP.blueHover),C=i.ZP.div.withConfig({displayName:"CommentFormTemplateStyles__StyledFormNote",componentId:"sc-1dqa7xz-4"})(["margin:20px 0 24px;p{color:",";font-size:16px;line-height:1.5;margin:0 0 16px;strong{color:",";font-family:",";font-size:14px;font-weight:700;}}kbd{background:",";color:",";font-size:0.9em;font-weight:500;padding:0.1em 0.3em;}"],x.ZP.gray5,x.ZP.gray4,(0,y.Z)("code"),x.ZP.grayLighter,x.ZP.gray4),Z=t(85893);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e){var n=e.topLevel,t=e.topLevelType,o=e.parent,i=e.parentType,a=e.onSave,p=e.showHeader,m=e.record,x=e.buttonText,y=e.type,k=e.count,P=e.usersThread,S=(0,u.Z)(),O=(0,s.useMemo)((function(){return"comment_record_".concat(i,"_").concat(o.id)}),[i,o]),L=(0,s.useState)(!1),T=L[0],E=L[1],z=(0,s.useState)({content:null===m||void 0===m?void 0:m.content}),M=z[0],A=z[1],D=(0,s.useCallback)((function(e){A((function(n){return _(_({},n),{},{content:e})})),!m&&T&&(e?(0,c.Pp)(O,{content:e}):(0,c.DC)(O))}),[m,T,O]);(0,s.useEffect)((function(){if(!m&&!T){E(!0);var e=(0,c.L2)(O);e&&A((function(n){return _(_({},n),e)}))}}),[m,T,O]);var U=(0,s.useState)("hidden"),F=U[0],B=U[1],R=(0,s.useState)(!1),H=R[0],q=R[1],W=(0,s.useState)(null),X=W[0],V=W[1],Y=function(){var e=(0,r.Z)(l().mark((function e(r){var s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!H){e.next=3;break}return e.abrupt("return");case 3:if(q(!0),V(null),s=_(_({},M),{},{parent_id:o.id,parent_type:i,top_level_id:n.id,top_level_type:t,type:y}),c=function(e){console.error(e),q(!1),V(e.message)},null===m||void 0===m||!m.id){e.next=13;break}return e.next=10,(0,d.uA)(S.token,m.id,s).catch(c);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,(0,d.Yr)(S.token,s).catch(c);case 15:e.t0=e.sent;case 16:if(u=e.t0){e.next=19;break}return e.abrupt("return");case 19:q(!1),V(null),D(""),"published"===u.state?a(u):B(u.state);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=(0,s.useMemo)((function(){var e;return S.token&&!(null===(e=S.user)||void 0===e||!e.email_verified_at)}),[S]);return(0,Z.jsxs)("div",{children:[p&&(0,Z.jsx)(v,{children:k>0?"".concat(k," Comments"):"Leave a comment"}),(0,Z.jsxs)(b,{children:[X&&(0,Z.jsxs)(w,{children:[(0,Z.jsx)("b",{children:"An error occurred when saving the comment:"})," ",X]}),(null===S||void 0===S?void 0:S.token)&&!$&&(0,Z.jsx)(h.Z,{}),(0,Z.jsx)(f.Z,{value:M.content||"",onChange:D,disabled:H||!$,required:!0,placeholder:"Leave a comment...",mentions:P})]}),(0,Z.jsxs)(C,{children:[(0,Z.jsxs)("p",{children:["This textbox defaults to using"," ",(0,Z.jsx)("strong",{children:"Markdown"})," ","to format your answer."]}),(0,Z.jsxs)("p",{children:["You can type"," ",(0,Z.jsx)("strong",{children:"!ref"})," ","in this text area to quickly search our full set of"," ","tutorials, documentation & marketplace offerings and insert the link!"]})]}),(0,Z.jsxs)(j,{children:[null===S.user?(0,Z.jsx)(N,{url:S.signUp,children:"Sign In or Sign Up to Comment"}):(0,Z.jsx)(I,{onClick:function(e){return Y(e)},disabled:H||!$,children:x}),"hidden"!==F&&(0,Z.jsx)(g.Z,{type:"comment",state:F})]})]})},O=S;S.defaultProps={showHeader:!0,record:null,buttonText:"Comment",type:"",count:0};var N=(0,i.ZP)(m.Z).withConfig({displayName:"CommentFormTemplate___StyledButtonLink",componentId:"sc-er5enn-0"})(["",""],k),I=(0,i.ZP)(p.Z).withConfig({displayName:"CommentFormTemplate___StyledButton",componentId:"sc-er5enn-1"})(["",""],k)},62312:function(e,n,t){t.d(n,{j:function(){return l},x:function(){return a}});var r=t(17534),o=t(88134),i=t(37797),a=i.ZP.div.withConfig({displayName:"CommentsTemplateStyles__StyledCommentsContainer",componentId:"sc-k3bvlc-0"})(["display:flex;flex-direction:column;line-height:1.4;margin:32px auto 0;position:relative;width:100%;","{margin:0;}"],(0,r.X)(r.A.desktop)),l=i.ZP.div.withConfig({displayName:"CommentsTemplateStyles__StyledCommentHeader",componentId:"sc-k3bvlc-1"})(["border:10px ",";border-bottom:solid #e4e8ed;color:",";font-size:20px;font-weight:500;line-height:20px;padding:20px;text-align:center;text-decoration:underline solid ",";text-underline-offset:23px;"],o.ZP.grayLight,o.ZP.blueDark,o.ZP.blueLight)},23379:function(e,n,t){var r=t(25610),o=t(21346),i=t(62312),a=t(85893),l=function(e){var n=e.records,t=e.topLevelType,l=e.topLevel,s=e.handleUpdatedTopLevel,d=e.title,c=e.align,u=e.showTitle,p=e.loadNested,m=e.replyable,f=e.expanded,h=e.urlFormatter,g=e.onLoadMore,x=e.handleUpdatedComment,y=e.hasMoreComments,b=e.upvotable,v=e.users;return(0,a.jsxs)(i.x,{children:[d.length>0&&u&&(0,a.jsxs)(i.j,{children:[d,"s"]}),n.map((function(e){return(0,a.jsx)(r.Z,{record:e,topLevelType:t,topLevel:l,handleUpdatedTopLevel:s,loadNested:p,align:c,replyable:m,expanded:f,handleUpdatedComment:x,urlFormatter:h,upvotable:b,users:v},e.id)})),y&&(0,a.jsx)(o.Z,{onClick:g,visible:n.length>0,message:"Load More ".concat(d,"s")})]})};n.Z=l,l.defaultProps={align:null,title:"Comment",showTitle:!1,loadNested:!1,replyable:!1,expanded:!0,urlFormatter:function(){return"#"},topLevel:null,handleUpdatedTopLevel:function(){},onLoadMore:function(){},hasMoreComments:!1,upvotable:!1}},23478:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(67294),o=t(57054),i=t(90352),a=t(88134),l=t(37797),s=t(62080),d=l.ZP.div.withConfig({displayName:"EmailNotVerifiedCalloutStyles__StyledNotVerifiedCallout",componentId:"sc-s04hs4-0"})(["border:1px solid ",";border-radius:3px;font-size:16px;margin:"," 0 16px;padding:16px 24px;width:100%;"],a.ZP.red3,(function(e){return e.marginTop||"32px"})),c=(0,l.ZP)(s.Z).withConfig({displayName:"EmailNotVerifiedCalloutStyles__StyledCalloutButton",componentId:"sc-s04hs4-1"})(["display:inline-block;font-size:16px;font-weight:500;padding:8px 16px;"]),u=t(85893),p=function(e){var n=e.marginTop,t=(0,o.Z)(),a=(0,r.useCallback)((function(e){e.preventDefault(),window.location.href=t.signIn}),[t.signIn]);return(0,u.jsxs)(d,{marginTop:n,children:[(0,u.jsxs)("div",{children:["You need to verify your email for this account before you can post."," ","Go"," ",(0,u.jsx)(i.Z,{url:"https://cloud.digitalocean.com/",children:"here"})," ","to resend the verification email."]}),(0,u.jsxs)("div",{children:["Already verified your email?"," ",(0,u.jsx)(c,{onClick:a,children:"Refresh authentication"})]})]})},m=p;p.defaultProps={marginTop:null}},92985:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(37797).ZP.div.withConfig({displayName:"SpamErrorTemplateStyles__StyledSpamError",componentId:"sc-a41zpz-0"})(["background:#ffeaea;border-radius:5px;box-sizing:border-box;color:#b62929;font-size:18px;margin-bottom:10px;margin-top:30px;padding:17px;position:relative;width:100%;p{font-size:17px;width:80%;&:first-child{font-weight:500;}}a{color:inherit;text-decoration:underline;word-break:keep-all;}"]),o=t(85893),i=function(e){var n=e.type,t=e.state;return(0,o.jsx)(r,{children:"spam"===t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:["This"," ",n," ","has been flagged as spam by our system."," ","Please do not attempt to re-post this"," ",n,"."]}),(0,o.jsxs)("p",{children:["If you believe this was a mistake,"," ","please contact"," ",(0,o.jsx)("a",{href:"mailto:community-spam@digitalocean.com",children:"community-spam@digitalocean.com"})," ","to appeal."]})]}):(0,o.jsxs)("p",{children:["This community submission is"," ",(0,o.jsx)("b",{children:"currently under review"})," ","and must be approved by a site moderator before being publicly available."]})})}},81042:function(e,n,t){t.d(n,{jR:function(){return a},qQ:function(){return i}});var r=t(67294),o=t(85893),i=function(e){var n=(0,r.useRef)(null);return[function(){return window.scrollTo({top:n.current.offsetTop-(null!==e&&void 0!==e?e:100)})},n]},a=function(e,n){return(0,o.jsx)("div",{ref:n,children:e})};n.ZP=function(){var e=(0,r.useRef)(null);return[function(){return e.current.scrollIntoView()},e]}},89136:function(e,n,t){t.d(n,{DC:function(){return i},L2:function(){return r},Pp:function(){return o}});var r=function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):null},o=function(e,n){window.localStorage.setItem(e,JSON.stringify(n))},i=function(e){window.localStorage.getItem(e)&&window.localStorage.removeItem(e)}},21474:function(e,n){n.Z=function(e){return e.id?e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name||e.last_name||e.username:""}},23939:function(e,n,t){var r=t(67294),o=t(45697),i=t.n(o);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=(0,r.forwardRef)((function(e,n){var t=e.color,o=void 0===t?"currentColor":t,i=e.size,s=void 0===i?24:i,d=l(e,["color","size"]);return r.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))}));s.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},s.displayName="CheckCircle",n.Z=s},59046:function(e,n,t){var r=t(67294),o=t(45697),i=t.n(o);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=(0,r.forwardRef)((function(e,n){var t=e.color,o=void 0===t?"currentColor":t,i=e.size,s=void 0===i?24:i,d=l(e,["color","size"]);return r.createElement("svg",a({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),r.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),r.createElement("polyline",{points:"15 3 21 3 21 9"}),r.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));s.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},s.displayName="ExternalLink",n.Z=s}}]);